<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">

<beans>
    <bean id="context" class="org.suggs.fsm.engine.uml2.basicbehaviors.BehavioredClassifier">
        <property name="ownedBehavior">
            <bean class="org.suggs.fsm.engine.uml2.behaviorstatemachines.StateMachine">
                <property name="name" value="State Machine"/>
                <property name="namespace" ref="context"/>
                <property name="ownedRegion">
                    <bean class="org.suggs.fsm.engine.uml2.behaviorstatemachines.Region">
                        <property name="name" value="region0"/>
                        <property name="transitions">
                            <set>
                                <ref bean="R0_T1"/>
                                <ref bean="R0_T2"/>
                                <ref bean="R0_T3"/>
                            </set>
                        </property>
                        <property name="subVertices">
                            <set>
                                <ref bean="R0_IS"/>
                                <ref bean="R0_S1"/>
                                <ref bean="R0_S2"/>
                                <ref bean="R0_S3"/>
                            </set>
                        </property>
                    </bean>
                </property>
            </bean>
        </property>
        <property name="name" value="context"/>
    </bean>

    <!--  Region 0 states -->
    <bean id="R0_IS" class="org.suggs.fsm.engine.uml2.behaviorstatemachines.PseudoState">
        <constructor-arg value="INITIAL"/>
        <property name="name" value="R0_IS"/>
    </bean>

    <bean id="R0_S1" class="org.suggs.fsm.engine.uml2.behaviorstatemachines.State">
        <constructor-arg value="SIMPLE"/>
        <property name="name" value="R0_S1"/>
        <property name="entryBehavior">
            <bean class="org.suggs.fsm.engine.uml2.basicbehaviors.Behavior">
                <!-- the name of the behaviour -->
                <property name="name" value="R0_S1_ENTRYACTION"/>
                <!-- the action to execute -->
                <property name="actionExecutor" ref="myEntryAction"/>
            </bean>
        </property>
    </bean>

    <bean id="R0_S2" class="org.suggs.fsm.engine.uml2.behaviorstatemachines.State">
        <constructor-arg value="SIMPLE"/>
        <property name="name" value="R0_S2"/>
    </bean>

    <bean id="R0_S3" class="org.suggs.fsm.engine.uml2.behaviorstatemachines.State">
        <constructor-arg value="SIMPLE"/>
        <property name="name" value="R0_S3"/>
    </bean>

    <!-- Region 0 transitionBuilders -->
    <bean id="R0_T1" class="org.suggs.fsm.engine.uml2.behaviorstatemachines.Transition">
        <constructor-arg value="EXTERNAL"/>
        <property name="name" value="R0_T1"/>
        <property name="incomingVertex" ref="R0_IS"/>
        <property name="outgoingVertex" ref="R0_S1"/>
        <property name="triggers">
            <set>
                <bean class="org.suggs.fsm.engine.uml2.communications.Trigger">
                    <property name="name" value="R0_T1_TG1"/>
                    <property name="event" ref="e1"/>
                </bean>
            </set>
        </property>
    </bean>

    <bean id="R0_T2" class="org.suggs.fsm.engine.uml2.behaviorstatemachines.Transition">
        <constructor-arg value="EXTERNAL"/>
        <property name="name" value="R0_T2"/>
        <property name="triggers">
            <set>
                <bean class="org.suggs.fsm.engine.uml2.communications.Trigger">
                    <property name="name" value="R0_T2_TG1"/>
                    <property name="event" ref="internalEvent1"/>
                </bean>
            </set>
        </property>
        <property name="incomingVertex" ref="R0_S1"/>
        <property name="outgoingVertex" ref="R0_S2"/>
    </bean>

    <bean id="R0_T3" class="org.suggs.fsm.engine.uml2.behaviorstatemachines.Transition">
        <constructor-arg value="EXTERNAL"/>
        <property name="name" value="R0_T3"/>
        <property name="triggers">
            <set>
                <bean class="org.suggs.fsm.engine.uml2.communications.Trigger">
                    <property name="name" value="R0_T3_TG1"/>
                    <property name="event" ref="internalEvent2"/>
                </bean>
            </set>
        </property>
        <property name="incomingVertex" ref="R0_S1"/>
        <property name="outgoingVertex" ref="R0_S3"/>
    </bean>

    <!-- Events -->

    <bean id="e1" class="org.suggs.fsm.engine.uml2.communications.Event">
        <constructor-arg index="0" value="e1"/>
        <constructor-arg index="1" ref="context"/>
    </bean>

    <bean id="internalEvent1" class="org.suggs.fsm.engine.uml2.communications.Event">
        <constructor-arg index="0" value="internalEvent1"/>
        <constructor-arg index="1" ref="context"/>
    </bean>

    <bean id="internalEvent2" class="org.suggs.fsm.engine.uml2.communications.Event">
        <constructor-arg index="0" value="



"/>
        <constructor-arg index="1" ref="context"/>
    </bean>

    <!-- Actions -->
    <bean id="myEntryAction"
          class="org.suggs.fsm.MockActionExecutor">
        <constructor-arg value="myEntryAction"/>
    </bean>

</beans>